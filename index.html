<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highway Havoc: Save the Town</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Tutorial Overlay -->
    <div id="tutorial-overlay">
        <div class="tutorial-box">
            <div class="title-badge">ðŸš§</div>
            <h1>Highway <span class="accent">Havoc</span></h1>
            <h2>â€” Save the Town! â€”</h2>
            <div class="tutorial-content">
                <p class="tagline">A super highway is draining traffic from your desert town.<br>Take control. Redirect cars. Save the economy.</p>
                <div class="tutorial-instructions">
                    <div class="instruction-item">
                        <span class="instruction-num">1</span>
                        <span><strong>Click</strong> road tiles to rotate direction</span>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-num">2</span>
                        <span><strong>Toggle</strong> highway gates to block traffic</span>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-num">3</span>
                        <span><strong>Route</strong> cars through town (center)</span>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-num">4</span>
                        <span>Survive <strong>5 levels</strong> of increasing chaos</span>
                    </div>
                </div>
                <div class="powers-row">
                    <div class="power-chip"><kbd>Q</kbd> Slow</div>
                    <div class="power-chip"><kbd>W</kbd> Clear</div>
                    <div class="power-chip"><kbd>E</kbd> Boost</div>
                </div>
                <p class="warning-hint">âš  Roads shuffle &amp; gates auto-toggle at higher levels</p>
            </div>
            <button id="start-btn" class="action-btn">â–¶ PLAY</button>
        </div>
    </div>

    <!-- Win/Lose Overlay -->
    <div id="result-overlay" class="hidden">
        <div class="result-box">
            <h1 id="result-title"></h1>
            <div id="result-stats"></div>
            <button id="result-restart-btn" class="action-btn">PLAY AGAIN</button>
        </div>
    </div>

    <!-- Game Container -->
    <div id="game-container">
        <!-- Top Dashboard -->
        <div id="top-bar">
            <div class="stat-group">
                <div class="stat-label">LEVEL</div>
                <div id="level-display" class="stat-value level-val">1</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">ECONOMY</div>
                <div class="economy-bar-container">
                    <div id="economy-bar" class="economy-bar">
                        <div id="economy-fill"></div>
                    </div>
                    <span id="economy-value">70</span>
                </div>
            </div>
            <div class="stat-group">
                <div class="stat-label">REDIRECTED</div>
                <div id="redirect-percent" class="stat-value">0%</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">SCORE</div>
                <div id="score-display" class="stat-value">0</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">COMBO</div>
                <div id="combo-display" class="stat-value combo-val">x1</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">HIGH SCORE</div>
                <div id="highscore-display" class="stat-value">0</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">TIME</div>
                <div id="timer-display" class="stat-value timer">3:00</div>
            </div>
        </div>

        <!-- Canvas wrapper for 3D perspective -->
        <div id="perspective-wrapper">
            <div id="parallax-sky" class="parallax-layer"></div>
            <div id="parallax-mountains" class="parallax-layer"></div>
            <div id="canvas-stage">
                <canvas id="game-canvas"></canvas>
                <div id="weather-overlay"></div>
                <div id="combo-popup" class="hidden"></div>
                <div id="level-banner" class="hidden"></div>
                <div id="shuffle-warn" class="hidden">ROADS SHUFFLING!</div>
            </div>
        </div>

        <!-- Power-ups bar -->
        <div id="powers-bar">
            <button id="power-slow" class="power-btn" title="Slow all cars 5s (Q)">
                <span class="power-icon">&#9201;</span>
                <span class="power-name">SLOW</span>
                <span id="power-slow-count" class="power-count">3</span>
            </button>
            <button id="power-clear" class="power-btn" title="Clear traffic (W)">
                <span class="power-icon">&#9889;</span>
                <span class="power-name">CLEAR</span>
                <span id="power-clear-count" class="power-count">2</span>
            </button>
            <button id="power-boost" class="power-btn" title="Economy +15 (E)">
                <span class="power-icon">&#9733;</span>
                <span class="power-name">BOOST</span>
                <span id="power-boost-count" class="power-count">2</span>
            </button>
            <div id="weather-indicator">
                <span id="weather-icon">&#9728;</span>
                <span id="weather-text">Clear</span>
            </div>
            <div id="difficulty-display" class="difficulty-tag">EASY</div>
        </div>

        <!-- Bottom Controls -->
        <div id="bottom-bar">
            <button id="pause-btn" class="control-btn">PAUSE</button>
            <button id="restart-btn" class="control-btn">RESTART</button>
        </div>
    </div>

    <div id="particles-container"></div>
    <script src="script.js"></script>
</body>
</html>
